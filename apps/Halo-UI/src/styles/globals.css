
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --halo-bg: 255 255 255;
  --halo-bg-elev: 248 248 252;
  --halo-fg: 12 14 20;
  --halo-muted: 115 120 140;
  --halo-primary: 0 216 255;
  --halo-secondary: 255 64 160;
  --halo-tertiary: 140 92 255;
  --halo-glass: 255 255 255 / 0.6;
  --halo-radius: 16px;
  --halo-blur: 18px;
  --halo-shadow: 0 10px 30px rgba(0,0,0,0.12);
  --halo-ring: 0 216 255;
  --halo-duration-fast: 140ms;
  --halo-duration: 220ms;
  --halo-ease: cubic-bezier(0.22, 1, 0.36, 1);
}

.dark {
  --halo-bg: 4 6 12;
  --halo-bg-elev: 16 18 28;
  --halo-fg: 236 240 255;
  --halo-muted: 150 155 175;
  --halo-primary: 0 216 255;
  --halo-secondary: 255 64 160;
  --halo-tertiary: 140 92 255;
  --halo-glass: 12 14 20 / 0.4;
  --halo-shadow: 0 12px 40px rgba(0,0,0,0.45);
  --halo-ring: 140 92 255;
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-[rgb(var(--halo-bg))] text-[rgb(var(--halo-fg))];
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Glassmorphism base utilities */
  .halo-glass {
    background: rgba(var(--halo-glass));
    backdrop-filter: blur(var(--halo-blur));
    border: 1px solid rgba(var(--halo-fg), 0.1);
  }

  .halo-glass-strong {
    background: rgba(var(--halo-glass));
    backdrop-filter: blur(calc(var(--halo-blur) * 1.5));
    border: 1px solid rgba(var(--halo-fg), 0.15);
  }

  /* Neon glow utilities */
  .halo-glow-primary {
    box-shadow: 0 0 20px rgba(var(--halo-primary), 0.3), 
                inset 0 1px 0 rgba(var(--halo-primary), 0.1);
  }

  .halo-glow-secondary {
    box-shadow: 0 0 20px rgba(var(--halo-secondary), 0.3),
                inset 0 1px 0 rgba(var(--halo-secondary), 0.1);
  }

  .halo-glow-tertiary {
    box-shadow: 0 0 20px rgba(var(--halo-tertiary), 0.3),
                inset 0 1px 0 rgba(var(--halo-tertiary), 0.1);
  }

  /* Text glow effects */
  .halo-text-glow-primary {
    color: rgb(var(--halo-primary));
    text-shadow: 0 0 10px rgba(var(--halo-primary), 0.5),
                 0 0 20px rgba(var(--halo-primary), 0.3);
  }

  .halo-text-glow-secondary {
    color: rgb(var(--halo-secondary));
    text-shadow: 0 0 10px rgba(var(--halo-secondary), 0.5),
                 0 0 20px rgba(var(--halo-secondary), 0.3);
  }

  .halo-text-glow-tertiary {
    color: rgb(var(--halo-tertiary));
    text-shadow: 0 0 10px rgba(var(--halo-tertiary), 0.5),
                 0 0 20px rgba(var(--halo-tertiary), 0.3);
  }

  /* Animation presets */
  .halo-hover {
    transition: all var(--halo-duration) var(--halo-ease);
  }

  .halo-hover:hover {
    transform: scale(1.02);
  }

  .halo-press {
    transition: transform var(--halo-duration-fast) var(--halo-ease);
  }

  .halo-press:active {
    transform: scale(0.98);
  }

  .halo-reveal {
    animation: halo-reveal var(--halo-duration) var(--halo-ease) forwards;
    opacity: 0;
    transform: translateY(8px);
    filter: blur(4px);
  }

  @keyframes halo-reveal {
    to {
      opacity: 1;
      transform: translateY(0);
      filter: blur(0);
    }
  }

  /* Focus ring */
  .halo-focus-ring:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px rgb(var(--halo-ring));
  }

  /* Scrollbar styling */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: rgba(var(--halo-muted), 0.1);
    border-radius: calc(var(--halo-radius) / 2);
  }

  ::-webkit-scrollbar-thumb {
    background: rgba(var(--halo-muted), 0.3);
    border-radius: calc(var(--halo-radius) / 2);
  }

  ::-webkit-scrollbar-thumb:hover {
    background: rgba(var(--halo-primary), 0.4);
  }
}

@layer utilities {
  /* Custom border radius using CSS variables */
  .rounded-halo {
    border-radius: var(--halo-radius);
  }

  .rounded-halo-sm {
    border-radius: calc(var(--halo-radius) * 0.5);
  }

  .rounded-halo-lg {
    border-radius: calc(var(--halo-radius) * 1.5);
  }

  /* Background patterns for depth */
  .halo-noise {
    background-image: 
      radial-gradient(circle at 20% 50%, rgba(var(--halo-primary), 0.02) 0%, transparent 50%),
      radial-gradient(circle at 80% 20%, rgba(var(--halo-secondary), 0.02) 0%, transparent 50%),
      radial-gradient(circle at 40% 80%, rgba(var(--halo-tertiary), 0.02) 0%, transparent 50%);
  }
}

@keyframes toast-slide-in-blur {
  from {
    opacity: 0;
    transform: translateY(-100%) scale(0.95);
    filter: blur(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
}

@keyframes toast-fade-down {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateY(-20px) scale(0.95);
  }
}

.toast-enter {
  animation: toast-slide-in-blur 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

.toast-exit {
  animation: toast-fade-down 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}